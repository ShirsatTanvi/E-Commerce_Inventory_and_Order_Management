{% extends "base.html" %}

{% block title %}Browse Products{% endblock %}

{% block extra_styles %}

<style>

    /* General Body */
/* body {
    background-color: #f5f7fa;
    font-family: 'Segoe UI', Tahoma, sans-serif;
    margin: 0;
    /* padding: 20px; 
} */

/* Page Heading */
h2 {
    text-align: center;
    color: #2c3e50;
    font-size: 30px;
    margin-bottom: 20px;
}

/* Welcome Text */
p {
    font-size: 16px;
    color: #333;
    text-align: center;
    margin-bottom: 15px;
}

/* Alerts */
p[style="color:red"] {
    color: #dc3545;
    font-weight: 600;
}

p[style="color:green"] {
    color: #28a745;
    font-weight: 600;
}

/* Table Styling */
table {
    width: 90%;
    margin: 0 auto 40px auto;
    border-collapse: collapse;
    background-color: #fff;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
    border-radius: 8px;
    overflow: hidden;
}

/* Table Headers */
table th {
    background-color: #007BFF;
    color: white;
    padding: 14px;
    text-align: left;
    font-size: 16px;
}

/* Table Data Rows */
table td {
    padding: 12px;
    border-bottom: 1px solid #ddd;
    font-size: 15px;
    color: #333;
}

/* Form Inside Table */
table form {
    display: flex;
    gap: 10px;
    align-items: center;
}

/* Input Field */
table input[type="number"] {
    width: 60px;
    padding: 6px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 14px;
}

/* Buy Button */
table button {
    background-color: #28a745;
    color: white;
    padding: 6px 14px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.2s ease;
}

table button:hover {
    background-color: #218838;
}


</style>
{% endblock %}


{% block content %}
<h2>Browse Products</h2>
<!-- <p>Welcome, {{ username }}</p> -->
{% if error %}<p style="color:red">{{ error }}</p>{% endif %}
{% if success %}<p style="color:green">{{ success }}</p>{% endif %}

<table>
<tr><th>Category</th><th>Subcategory</th><th>Brand</th><th>Description</th><th>Price</th><th>Qty</th><th>Order</th></tr>
{% for p in products %}
<tr>
    <td>{{ p.category }}</td>
    <td>{{ p.subcategory }}</td>
    <td>{{ p.brand }}</td>
    <td>{{ p.desc }}</td>
    <td>â‚¹{{ p.price }}</td>
    <td>{{ p.quantity }}</td>
    <td>
        <form action="/place-order" method="post">
            <input type="hidden" name="user" value="{{ username }}">
            <input type="hidden" name="product_id" value="{{ p.id }}">
            <input type="number" name="quantity" min="1" max="{{ p.quantity }}" required>
            <button type="submit">Buy</button>
        </form>
    </td>
</tr>
{% endfor %}
</table>
{% endblock %}
