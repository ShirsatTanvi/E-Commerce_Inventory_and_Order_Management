<aside class="sidebar">
    <div class="sidebar-header">
        <div class="user-avatar">{{ username[0]|upper }}</div>
        <div class="user-info">
            <h4>{{ username }}</h4>
            <p>{{ role|title }}</p>
        </div>
    </div>

    <ul class="sidebar-menu">
        <li class="menu-item {% if request.url.path.startswith('/dashboard') %}active{% endif %}">
            <a href="/dashboard?user={{ username }}">
                <i class="fas fa-tachometer-alt"></i> <span>Dashboard</span>
            </a>
        </li>

        <li class="menu-item {% if request.url.path.startswith('/view-products') %}active{% endif %}">
            <a href="/view-products?user={{ username }}">
                <i class="fas fa-boxes"></i> <span>View Products</span>
            </a>
        </li>

        {% if role == 'admin' %}

        <li class="menu-item {% if request.url.path.startswith('/add-product') %}active{% endif %}">
            <a href="/add-product?user={{ username }}">
                <i class="fas fa-plus-circle"></i> <span>Add Product</span>
            </a>
        </li>
        <li class="menu-item {% if request.url.path.startswith('/restock-products') %}active{% endif %}">
            <a href="/restock-products?user={{ username }}">
                <i class="fas fa-plus-circle"></i> <span>Restock Products</span>
            </a>
        </li>
        <li class="menu-item {% if request.url.path.startswith('/admin-orders') %}active{% endif %}">
            <a href="/admin-orders?user={{ username }}">
                <i class="fas fa-clipboard-list"></i> <span>Manage Orders</span>
            </a>
        </li>
        <li class="menu-item {% if request.url.path.startswith('/sales-history') %}active{% endif %}">
            <a href="/sales-history?user={{ username }}">
                <i class="fas fa-history"></i> <span>Sales History</span>
            </a>
        </li>


        {% elif role == 'customer' %}
        <li class="menu-item {% if request.url.path.startswith('/browse-products') %}active{% endif %}">
            <a href="/browse-products?user={{ username }}">
                <i class="fas fa-shopping-cart"></i> <span>Browse Products</span>
            </a>
        </li>
        <li class="menu-item {% if request.url.path.startswith('/order-history') %}active{% endif %}">
            <a href="/order-history?user={{ username }}">
                <i class="fas fa-list"></i> <span>Order History</span>
            </a>
        </li>
        <li class="menu-item {% if request.url.path.startswith('/my-cart') %}active{% endif %}">
            <a href="/my-cart?user={{ username }}">
                <i class="fas fa-shopping-basket"></i> <span>My Cart</span>
            </a>
        </li>

        {% endif %}
    </ul>
</aside>